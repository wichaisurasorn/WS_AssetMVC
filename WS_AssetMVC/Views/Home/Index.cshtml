@{
    ViewData["Title"] = "Home Page";
}



@*<a href="@Url.Action("Addasset","Assets")" class="btn btn-success">เพิ่มข้อมูล</a>*@
@*<a href="@Url.Action("DetailAsset","Home")" class="btn btn-success">รายละเอียด</a>*@
<button type="button" class="btn btn-primary" id="" data-toggle="modal" data-target="#AddModal">เพื่อข้อมูล</button>

<script src="~/lib/jquery-ui/jquery-ui.js"></script>
<script src="~/lib/jquery-ui/external/jquery/jquery.js"></script>




<div class="row">
    <div class="col-lg-12">
        <div class="wrapper wrapper-content">
            <div class="ibox">
                <div class="ibox-content">                   
                    <br />
                    <botton type="botton" class="btn btn-success" onclick="Data()">Data</botton>
                    <div id="show"></div>
                    <br />
                    <br />
                    <br />
                </div>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="DetailModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">รายละเอียดทรัพย์สิน</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <form>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>ID</label>
                                    <input type="text" id="Edit_ID" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>NANE</label>
                                    <input type="text" id="Edit_Name" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>Serail Number</label>
                                    <input type="text" id="Edit_Serial" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>Type</label>
                                    <input type="text" id="Type_ID" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>Date Buy</label>
                                    <input type="text" id="Edit_Datebuy" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>Date Warranty</label>
                                    <input type="text" id="Edit_Waranty" class="form-control" />
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label>Price</label>
                                    <input type="text" id="Edit_Price" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>Supply</label>
                                    <input type="text" id="Edit_Supply" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>USER</label>
                                    <input type="text" id="EditUser_ID" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>ADMIN</label>
                                    <input type="text" id="EditAdmin_ID" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>Asset NO.</label>
                                    <input type="text" id="Edit_Number" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>Date Modify</label>
                                    <input type="text" id="Edit_Modify" class="form-control" />
                                </div>
                            </div>
                        </div>
                        <div class="btn btn-success" onclick="ModifyAsset()">เปลี่ยนแปลง</div>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>

@*Start Add Asset*@

<div class="modal fade" id="AddModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">รายละเอียดทรัพย์สิน</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="container-fluid">
                    <form>
                        <div class="row">
                            <div class="col-6">
                                <div class="form-group">
                                    <label>NANE</label>
                                    <input type="text" id="Asset_Name" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>Serail Number</label>
                                    <input type="text" id="Asset_Serial" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>Type</label>
                                    <input type="text" id="Type_ID" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>Date Buy</label>
                                    <input type="text" id="Asset_Datebuy" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>Date Warranty</label>
                                    <input type="text" id="Asset_Waranty" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>Price</label>
                                    <input type="text" id="Asset_Price" class="form-control" />
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="form-group">
                                    <label>Supply</label>
                                    <input type="text" id="Asset_Supply" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>USER</label>
                                    <input type="text" id="User_ID" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>ADMIN</label>
                                    <input type="text" id="Admin_ID" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>Asset NO.</label>
                                    <input type="text" id="Asset_Number" class="form-control" />
                                </div>
                                <div class="form-group">
                                    <label>Date Modify</label>
                                    <input type="text" id="Asset_Modify" class="form-control" autocomplete="off" />
                                </div>
                            </div>
                        </div>

                        <br />
                        <br />
                        <button type="button" onclick="datas()" class="btn btn-success">เพื่อข้อมูล</button>
                    </form>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save changes</button>
            </div>
        </div>
    </div>
</div>


@section Scripts{
    <script type="text/javascript">

        //select all data
        function Data() {
            $.ajax({
                type: 'post',
                url: '@Url.Action("showdata","Home")',
                success: function (data) {
                    $('#show').html(data);
                }
            });
        }

        // select Asset BY ID START
        @*function detaildata(parameter) {
            var idd = parameter;
            console.log(idd);
            $.ajax({
                type: 'post',
                url: '@Url.Action("Detaildata", "Home")',
                data: {
                    id:idd,
                },
                success: function (data) {
                    $('#Detail').html(data);
                }
            });
        }

        function ModifyAsset() {
            var Asset_Id = $('#Edit_ID').val();
            var Asset_Name = $('#Edit_Name').val();
            var Asset_Serial = $('#Edit_Serial').val();
            var Type_Id = $('#Type_ID').val();
            var Asset_Datebuy = $('#Edit_Datebuy').val();
            var Asset_Waranty = $('#Edit_Waranty').val();
            var Asset_Price = $('#Edit_Price').val();
            var Asset_Supply = $('#Edit_Supply').val();
            var User_ID = $('#EditUser_ID').val();
            var Admin_ID = $('#EditAdmin_ID').val();
            var Asset_Number = $('#Edit_Number').val();
            var Asset_Modify = $('#Edit_Modify').val();

            console.log(Asset_Id, Asset_Name, Asset_Modify, Asset_Serial);

            $.ajax({
                type: 'post',
                url: '@Url.Action("update","Home")',
                data: {
                    Asset_ID: Asset_Id,
                    Asset_Name: Asset_Name,
                    Asset_Serial: Asset_Serial,
                    Type_Id: Type_Id,
                    Asset_Datebuy: Asset_Datebuy,
                    Asset_Waranty: Asset_Waranty,
                    Asset_Price: Asset_Price,
                    Asset_Supply: Asset_Supply,
                    User_ID: User_ID,
                    Admin_ID: Admin_ID,
                    Asset_Number: Asset_Number,
                    Asset_Modify: Asset_Modify
                },
                success(data) {
                    if (data == "true") {
                        alert("success");
                    } else {
                        alert("fial");
                    }
                }
            });

        }*@
        // select Asset BY ID END


        //div EditAsset START
        function detailasset(date) {
            $("#Edit_ID").val(date.asset_ID);
            $("#Edit_Name").val(date.asset_Name);
            $("#Edit_Serial").val(date.asset_Serial);
            $("#Type_ID").val(date.Type_ID);
            $("#Edit_Datebuy").val(date.asset_Datebuy);
            $("#Edit_Waranty").val(date.asset_Waranty);
            $("#Edit_Price").val(date.asset_Price);
            $("#Edit_Supply").val(date.asset_Supply);
            $("#EditUser_ID").val(date.User_ID);
            $("#EditAdmin_ID").val(date.Admin_ID);
            $("#Edit_Number").val(date.asset_Number);
            $("#Edit_Modify").val(date.asset_Modify);
        }

        $(function () {
            $('#Edit_Datebuy').datepicker({
                dateFormat: "dd/mm/yy",
                changeMonth: true,
                changeYear: true,
                minDate: new Date(2000, 0, 1),
                maxDate: new Date(2024, 0, 1),
            });
        });
        $(function () {
            $('#Edit_Waranty').datepicker({
                dateFormat: "dd/mm/yy",
                changeMonth: true,
                changeYear: true,
                minDate: new Date(2000, 0, 1),
                maxDate: new Date(2024, 0, 1),
            }); 
        });
        $(function () {
            $('#Edit_Modify').datepicker({
                dateFormat: "dd/mm/yy",
                changeMonth: true,
                changeYear: true,
                minDate: new Date(2000, 0, 1),
                maxDate: new Date(2024, 0, 1),
            }).datepicker("setDate", new Date());
        }); 

        //div EditAsset END

                  

        //Add Asset START
        function datas() {
            var Asset_Name = $('#Asset_Name').val();
            var Asset_Serial = $('#Asset_Serial').val();
            var Type_ID = $('#Type_ID').val();
            var Asset_Datebuy = $('#Asset_Datebuy').val();
            var Asset_Waranty = $('#Asset_Waranty').val();
            var Asset_Price = $('#Asset_Price').val();
            var Asset_Supply = $('#Asset_Supply').val();
            var User_ID = $('#User_ID').val();
            var Admin_ID = $('#Admin_ID').val();
            var Asset_Number = $('#Asset_Number').val();
            var Asset_Modify = $('#Asset_Modify').val();

            console.log(Asset_Name, Asset_Serial, Type_ID, Asset_Datebuy, Asset_Waranty, Asset_Price, Asset_Supply, User_ID, Admin_ID, Asset_Number, Asset_Modify);

            $.ajax({
                type: 'post',
                url: '@Url.Action("Add","Home")',
                data: {
                    Asset_Name : Asset_Name,
                    Asset_Serial: Asset_Serial,
                    Type_ID: Type_ID,
                    Asset_Datebuy: Asset_Datebuy,
                    Asset_Waranty: Asset_Waranty,
                    Asset_Price: Asset_Price,
                    Asset_Supply: Asset_Supply,
                    User_ID: User_ID,
                    Admin_ID: Admin_ID,
                    Asset_Number: Asset_Number,
                    Asset_Modify: Asset_Modify
                },
                success(data) {
                    if (data == "true") {
                        alert("success");
                    } else {
                        alert("fial");
                    }
                }
            });
        }

        $(function () {
            $("#Asset_Datebuy").datepicker({
                dateFormat: "dd/mm/yy",
                changeMonth: true,
                changeYear: true,
                minDate: new Date(2000, 0, 1),
                maxDate: new Date(2024, 0, 1),
            });
            $("#Asset_Waranty").datepicker({
                dateFormat: "dd/mm/yy",
                changeMonth: true,
                changeYear: true,
                minDate: new Date(2000, 0, 1),
                maxDate: new Date(2024, 0, 1),
            });
            $('#Asset_Modify').datepicker({
                dateFormat: "dd/mm/yy",
                changeMonth: true,
                changeYear: true,
                minDate: new Date(2000, 0, 1),
                maxDate: new Date(2024, 0, 1),
            }).datepicker("setDate", new Date());
        });

        //Add Asset END



    </script>
       
}
















